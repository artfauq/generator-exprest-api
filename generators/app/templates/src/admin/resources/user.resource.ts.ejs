import { ResourceWithOptions } from 'adminjs';
import { menu } from '..';
import { User } from '../../models';

export const createUserResource = (): ResourceWithOptions => ({
  resource: User,
  options: {
    actions: {
      bulkDelete: {
        isAccessible: false,
      },
      delete: {
        isAccessible: false,
      },
      edit: {
        isAccessible: false,
      },
      list: {
        isAccessible: true,
      },
      new: {
        isAccessible: false,
      },
      search: {
        isAccessible: true,
      },
      show: {
        isAccessible: true,
      },
    },
    navigation: menu.users,
    listProperties: ['id', 'email', 'firstName', 'lastName', 'role', 'createdAt'],
    showProperties: ['id', 'email', 'firstName', 'lastName', 'role', 'createdAt'],
    editProperties: ['email', 'firstName', 'lastName'],
    filterProperties: ['email', 'firstName', 'lastName', 'role', 'createdAt'],
    properties: {
      password: {
        type: 'password',
      },
    },
    sort: {
      direction: 'asc',
      sortBy: 'lastName',
    },
  },
});
