import { Server as HttpServer } from 'http';
import SocketIO from 'socket.io';
import { Container } from 'typedi';

/**
 * Socket.IO server initializer
 */
export default function initSocketIo(): SocketIO.Server {
  const server = Container.get<HttpServer>('server');

  const io = SocketIO(server, { path: '/socket.io' });

  return io;
}
